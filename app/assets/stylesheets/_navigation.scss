/* ########## */
/* NAVIGATION */
/* ---------- */

/* ---------- */
/* HEADER NAV */
/* ---------- */

/* --- Header nav hover & current view styles --- */

// nav element                      idle          :hover
// ------------------------------------------------------
// li                               black       lightgrey
// li.current                        red        lightgrey
// li.current.view                   red            -
// ------------------------------------------------------

// Hover ON:
nav.header li:hover {
  background-color: lightgrey;
  border-color: lightgrey;
}

// Hover OFF:
nav.header li.current.view:hover {
  background-color: whitesmoke;
  border-color: transparent;
}

// No anchor inside li.current.view. Courtesty of Rails' and my own adapted
// link_to_unless _current(), current_view?() helpers.
// Use for state contingent styling, i.e. a "bread-crumb" and hover
// Must do children to prevent malformatting of nested navs manus
ul.menu > li.current > a,
ul.menu > li.current.is-dropdown-submenu-parent > a, // Override F6 #333
ul.menu > li.current.view { color: #e60000; }

ul.menu > li.current.view span {
  display: block;
  line-height: 1;
  padding: $global-menu-padding;
}

/* ------------------------------------------ */

ul.menu.xlarge,
ul.menu.regional { display: none; }

li.current,
.menu.regional { background-color: whitesmoke; }

ul.menu.portfolios a,
ul.menu.portfolios > li.current.view span {
  padding-right: .95rem;
  padding-left: .95rem;
}

nav { font-family: 'Telegrafico'; }

nav li { white-space: nowrap; }

nav.header li {
  border-radius: 3px;
  transition: background-color, .6s;
}

nav.header a { color: #333; }

button.menu-icon:hover { background-color: lightgrey; }

button.fa-hard-hat {
  color: #e60000;
  border: 1px transparent solid;
  border-radius: 3px;
  font-size: 2rem;
  padding: 6px;
  transition: background-color, .6s;
}

button.fa-hard-hat:hover { background-color: lightgrey; }

/* ------------ */
/* PANTHEON NAV */
/* ------------ */

nav.pantheon {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
}

nav.pantheon aside.thankyou {
  align-self: center;
  grid-column-end: -1;
  margin: 0;
}

.container.pantheon.portfolios { background-color: #cbcbcb; }

.overlay {
  border: 3px solid #aaa;
  border-radius: 3px;
  height: 100%;
  left: 50%;
  opacity: 0;
  position: absolute;
  text-align: center;
  top: 50%;
  transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  transition: .4s ease-in-out;
  width: 100%;
  backface-visibility: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

.overlay-text {
  border: 1px solid whitesmoke;
  color: whitesmoke;
  background-color: #333;
  padding: 0 8px 1px 8px;
  border-radius: 7px;
}

figure.nav:hover .overlay {
  background: rgba(0, 0, 0, 0.3); /* Black see-through */
  opacity: 1;
}

figure.nav {
  border: 3px solid #aaa;
  border-radius: 3px;
  position: relative; // anchor .overlay
}

img.nav {
  display: block;
  height: 250px;
  object-fit: cover;
  padding: 0;
  width: 100%;
}

/* ------------ */

@media (min-width: 1200px) {

  nav.pantheon { grid-template-columns: 1fr 1fr 1fr; }

}

/* --------- */
/* ADMIN NAV */
/* --------- */

ul.menu.admin li { margin-bottom: 0; }

ul.menu.admin a {
  color: white;
  padding: .7rem;
}

.admin-header-nav {
  align-items: center;
  background-color: #3a3a3a;
  border-radius: 3px;
  color: white;
  display: flex;
  justify-content: space-between;
  margin-top: 1rem;
}

/* ---------- */
/* FOOTER NAV */
/* ---------- */

.fa-home,
.fa-user {
  padding-bottom: 1px;
  border-bottom: 2px solid whitesmoke;
}

/* ---------- */

.span-bar {
  display: none;
  padding: .6rem 0;
}

/* ---------- */

.container-footer {
  flex: initial; /* override .container's 1 0 auto #<= odd, fix it, see above */
  margin: 0 auto;
}

.flexrow-footer {
  align-items: center;
  flex-direction: column-reverse;
}

.footer-icons { display: flex; }

.footer-links {
  display: flex;
  flex-flow: column wrap;
  align-items: center;
}

.menu-footer {
  align-items: center;
  flex-direction: column;
}

/* ---------- */

@media (min-width: 640px) {

  .menu-footer,
  .footer-links { flex-direction: row; }

  footer { font-size: 1.125rem; }

}

@media (min-width: 898px) {

  .flexrow-footer {
    flex-direction: row;
    justify-content: space-between;
  }

}
